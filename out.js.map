{
  "version": 3,
  "sources": ["themes/mercury/source/scripts/components/accordion.js", "themes/mercury/source/scripts/components/video.js", "themes/mercury/source/scripts/lib.js", "themes/mercury/source/scripts/app.js"],
  "sourcesContent": ["export class Accordion {\n\n    /**\n     * \n     * Constructor\n     * \n     * @param {element} element accordion parent\n     */\n    constructor(element) {\n\n        this.accordion = element;\n        this.trigger = this.accordion.querySelector('.js-trigger');\n        this.content = this.accordion.querySelector('.js-content');\n\n        // Initialise the accordion\n        this.init();\n    }\n\n\n    /**\n     * \n     * Initialise the accordion item\n     * \n     */\n    init() {\n\n        // Get the initial state of the accordion\n        this.getState();\n\n        // Add the click event handler to the accordion\n        this.addEventListeners();\n    }\n\n\n    /**\n     * \n     * Get the current state of the accordion\n     * \n     */\n    getState() {\n        this.is_open = this.accordion.classList.contains('active');\n    }\n\n\n    /**\n    * \n    * Toggle the current state of the accordion\n    * \n    */\n    toggle() {\n        (this.is_open) ? this.close() : this.open();\n    }\n\n    /**\n     * \n     * Add the click event handler to the accordion\n     * \n     */\n    addEventListeners() {\n        this.accordion.addEventListener('click', () => this.toggle());\n    }\n\n\n    /**\n     * \n     * Add the click event handler to the accordion\n     * \n     */\n    updateState(state) {\n\n        // Update the current state\n        this.is_open = state;\n\n        // Update the aria-expanded attribute\n        this.trigger.setAttribute('aria-expanded', state);\n\n    }\n\n\n    /**\n     * \n     * Open the accordion\n     * \n     */\n    open() {\n\n        // Add active class to the accordion\n        this.accordion.classList.add('active');\n\n        // Quickly get the height we want to animate to\n        this.content.style.height = 'auto';\n        var height = this.content.clientHeight + 'px';\n\n        // Revert the heioght back to nothing\n        this.content.style.height = 0;\n\n        // Animate the height once the calculations are done\n        setTimeout(() => this.content.style.height = height, 0);\n\n        // Update the current state\n        this.updateState(true);\n\n    }\n\n    /**\n     * \n     * Close the accordion\n     * \n     */\n    close() {\n\n        // Revert the height back to nothing\n        this.content.style.height = 0;\n\n        // Remove the active class once animations are over\n        this.content.addEventListener('transitionend', () => {\n            this.accordion.classList.remove('active');\n        }, { once: true });\n\n        // Update the current state\n        this.updateState(false);\n\n    }\n}\n\n", "export class Video {\n\n    /**\n     * \n     * Constructor\n     * \n     * @param {element} element video\n     */\n    constructor(element) {\n\n        this.video = element;\n        this.video_id = this.video.dataset.videoId;\n        this.video_element = this.video.dataset.id;\n        this.video_source = this.video.dataset.videoSource;\n        window.loaded_scripts = window.loaded_scripts || [];\n        this.script_src = (this.video_source === 'youtube') ? 'https://www.youtube.com/iframe_api' : 'https://player.vimeo.com/api/player.js';\n\n        // Initialise the video\n        this.init();\n    }\n\n\n    /**\n     * \n     * Initialise the video item\n     * \n     */\n    init() {\n\n        // Load the scripts for the respective API\n        this.loadScripts();\n\n        // Attach the needed event listeners\n        this.addEventListeners();\n\n    }\n\n\n    /**\n     * \n     * Add the click event handler to the video\n     * \n     */\n    addEventListeners() {\n        this.video.addEventListener('click', (event) => {\n            event.preventDefault();\n            this.create()\n        });\n    }\n\n\n    /**\n     * \n     * Load the scripts if they have not already been loaded\n     * \n     */\n    loadScripts() {\n\n        // If the script has already been loaded, return\n        if (window.loaded_scripts.includes(this.script_src)) return;\n\n        // Add the script to the loaded scripts array\n        window.loaded_scripts.push(this.script_src);\n\n        // Create the script tag\n        let script = document.createElement('script');\n\n        // Set the script source\n        script.src = this.script_src;\n\n        // Append the script to the body\n        document.body.appendChild(script);\n\n    }\n\n\n    /**\n     * \n     * Youtube on player ready event handler\n     * \n     */\n    onPlayerReady() {\n\n        // Show the video and hide the thumbnail\n        this.show();\n\n        // Play the youtube video\n        this.player.playVideo();\n\n    }\n\n\n    /**\n     * \n     * Youytube Player play state event handler\n     * \n     * @param {event} event\n     */\n    onPlayerStateChange(event) {\n        if (event.data == YT.PlayerState.ENDED) {\n\n            // Reset the video to the start\n            this.player.seekTo(0)\n\n            // Pause the video\n            this.player.pauseVideo();\n\n            // Hide the video and show the thumbnail\n            this.hide();\n        }\n    }\n\n\n    /**\n     * \n     * Create the video player instance\n     * \n     */\n    create() {\n\n        // If the pkayer has already been created, then just hit play\n        if (this.player) {\n            this.play();\n        }\n        // Otherwise we will need to create the player first\n        else {\n\n            // Youtube specific video createion\n            if (this.video_source === 'youtube') {\n                this.player = new YT.Player(this.video_element, {\n                    videoId: this.video_id,\n                    events: {\n                        onReady: this.onPlayerReady.bind(this),\n                        onStateChange: this.onPlayerStateChange.bind(this)\n                    }\n                });\n            }\n\n            // Vimeo specific video creation\n            if (this.video_source === 'vimeo') {\n                this.player = new Vimeo.Player(this.video_element, {\n                    id: this.video_id,\n                    autopause: false\n                });\n\n                // Attach the event listeners\n                this.player.on('play', () => this.show());\n                this.player.on('ended', () => this.hide());\n\n                // Show the video and hide the thumbnail\n                this.show();\n\n                // Play the vimeo video\n                this.play();\n            }\n        }\n    }\n\n    /**\n     * \n     * Play the video instance\n     * \n     */\n    play() {\n\n        // Show the video and hide the thumbnail\n        this.show();\n\n        (this.video_source === 'youtube') ? this.player.playVideo() : this.player.play();\n    }\n\n\n    /**\n     * \n     * Show the video and hide the thumbnail\n     * \n     */\n    show() {\n        this.video.classList.add('playing');\n    }\n\n\n    /**\n     * \n     * Hide the video and show the thumbnail\n     * \n     */\n    hide() {\n        this.video.classList.remove('playing');\n    }\n\n\n}\n\n", "\nexport const $ = document.querySelector.bind(document)\n\nexport const $$ = document.querySelectorAll.bind(document)", "/*------------------------------------------------------------------\nImport styles\n------------------------------------------------------------------*/\n\n// import './../styles/style.scss'; \n \nimport { $, $$ } from './lib'\n\n/*------------------------------------------------------------------\nImport external\n------------------------------------------------------------------*/\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    /*------------------------------------------------------------------\n    Accordion Elements\n    ------------------------------------------------------------------*/\n    if ($('.js-accordion-element')) {\n        import('./components/accordion').then(module => {\n            $$('.js-accordion-element').forEach(element => new module.Accordion(element));\n        });\n    }\n\n    /*------------------------------------------------------------------\n    Video Elements\n    ------------------------------------------------------------------*/\n    if ($('.js-video-element')) {\n        import('./components/video').then(module => {\n            $$('.js-video-element').forEach(element => new module.Video(element));\n        });\n    }\n\n    /*------------------------------------------------------------------\n    Post Load classname removal\n    ------------------------------------------------------------------*/\n\n    $$('.js-postload').forEach(element => {\n        element.classList.remove('js-postload');\n    });\n\n\n    /*------------------------------------------------------------------\n    Sticky header  \n    ------------------------------------------------------------------*/\n\n    let previousScrollPosition = 0;\n    let scrollDelta = 5;\n    let header = $('.header');\n    let headerHeight = (header) ? header.clientHeight / 3 : 0;\n\n    const stickyHeader = () => {\n        let st = window.scrollY;\n        if (Math.abs(previousScrollPosition - st) <= scrollDelta) return;\n        if (st === 0) {\n            header.classList.remove('nav-down');\n            header.classList.remove('nav-up');\n        } else if (st > previousScrollPosition && st > headerHeight) {\n            header.classList.remove('nav-down');\n            header.classList.add('nav-up');\n        } else {\n            if (st + window.innerHeight < document.body.clientHeight) {\n                header.classList.add('nav-down');\n                header.classList.remove('nav-up');\n            }\n        }\n        previousScrollPosition = st;\n    }\n\n    window.addEventListener('scroll', stickyHeader);\n\n});\n\n"],
  "mappings": "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",
  "names": ["accordion_exports", "__export", "Accordion", "init_accordion", "__esmMin", "element", "state", "height", "video_exports", "__export", "Video", "init_video", "__esmMin", "element", "event", "script", "$", "$$", "$", "module", "$$", "element", "previousScrollPosition", "scrollDelta", "header", "headerHeight", "stickyHeader", "st"]
}
