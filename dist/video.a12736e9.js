(0,globalThis.parcelRequire0837.register)("bHj0q",function(e,t){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r.key),r)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Video=void 0,e.exports.Video=function(){var e,t;function i(e){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,i),this.video=e,this.player=void 0,this.video_id=this.video.dataset.videoId,this.video_source=this.video.dataset.videoSource,window.loaded_scripts=window.loaded_scripts||[],this.script_src="youtube"===this.video_source?"https://www.youtube.com/iframe_api":"https://player.vimeo.com/api/player.js",this.video_element=this.video.dataset.id,this.init()}return e=[{key:"init",value:function(){this.loadScripts(),this.addEventListeners()}},{key:"addEventListeners",value:function(){var e=this;this.video.addEventListener("click",function(t){t.preventDefault(),e.create()})}},{key:"loadScripts",value:function(){if(!window.loaded_scripts.includes(this.script_src)){window.loaded_scripts.push(this.script_src);var e=document.createElement("script");e.src=this.script_src,document.body.appendChild(e)}}},{key:"onPlayerReady",value:function(){this.show(),this.player.playVideo()}},{key:"onPlayerStateChange",value:function(e){e.data==YT.PlayerState.ENDED&&(this.player.seekTo(0),this.player.pauseVideo(),this.hide())}},{key:"create",value:function(){var e=this;this.player?this.play():("youtube"===this.video_source&&(this.player=new YT.Player(this.video_element,{videoId:this.video_id,events:{onReady:this.onPlayerReady.bind(this),onStateChange:this.onPlayerStateChange.bind(this)}})),"vimeo"===this.video_source&&(this.player=new Vimeo.Player(this.video_element,{id:this.video_id,autopause:!1}),this.player.on("play",function(){return e.show()}),this.player.on("ended",function(){return e.hide()}),this.show(),this.play()))}},{key:"play",value:function(){this.show(),"youtube"===this.video_source?this.player.playVideo():this.player.play()}},{key:"show",value:function(){this.video.classList.add("playing")}},{key:"hide",value:function(){this.video.classList.remove("playing")}}],o(i.prototype,e),t&&o(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}()});
//# sourceMappingURL=video.a12736e9.js.map
