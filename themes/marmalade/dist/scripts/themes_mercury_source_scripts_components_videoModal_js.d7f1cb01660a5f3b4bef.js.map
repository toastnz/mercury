{"version":3,"file":"themes_mercury_source_scripts_components_videoModal_js.d7f1cb01660a5f3b4bef.js?id=[query]","mappings":"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","sources":["webpack://mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/./themes/mercury/source/scripts/components/videoModal.js","webpack://mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/mercury/./node_modules/tingle.js/dist/tingle.min.js"],"sourcesContent":["/*------------------------------------------------------------------\nHelpers\n------------------------------------------------------------------*/\n\nconst query = document.querySelector.bind(document);\nconst queryAll = document.querySelectorAll.bind(document);\n\n/*------------------------------------------------------------------\nImports\n------------------------------------------------------------------*/\n\nimport tingle from 'tingle.js';\n\n\n/*------------------------------------------------------------------\nTemplates\n------------------------------------------------------------------*/\n\n/**\n* Vimeo Template\n*/\nconst vimeo = (id) =>\n/*html*/`<iframe src=\"https://player.vimeo.com/video/${id}?title=0&byline=0&portrait=0&autoplay=1\" width=\"640\" height=\"360\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>`;\n\n\n/**\n* Youtube Template\n*/\nconst youtube = (id) =>\n/*html*/`<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/${id}?controls=0&autoplay=1&rel=0\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n\n/**\n* Close Icon\n*/\nconst closeIcon = () =>\n/*html*/`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"86\" height=\"85\" viewBox=\"0 0 86 85\" class=\"svg-close\"><polygon fill=\"none\" stroke=\"#704C99\" stroke-width=\"3.78\" points=\"840 88.29 824.516 73 799.999 97.207 775.484 73 760 88.29 784.515 112.499 760 136.708 775.484 152 799.999 127.789 824.516 152 840 136.708 815.483 112.499\" transform=\"translate(-757 -70)\"></polygon></svg>`;\n\n\n/** \n * Video modal template\n * @param {*} id \n * @param {*} type (defaults to youtube)\n */\nconst videoModalTemplate = (id, type = 'youtube') =>\n/*html*/`<div class=\"modal__close\">\n            <a href=\"#\" class=\"modal__close__icon [ js-close-modal ]\">\n            ${closeIcon()}\n            </a>\n         </div>\n         <div class=\"modal\">\n            <div class=\"embed-container\">\n            ${(type === 'youtube') ? youtube(id) : vimeo(id)}\n            </div>\n         </div>`;\n\n\n/*------------------------------------------------------------------\nVariables\n------------------------------------------------------------------*/\n\nlet modal;\n\nconst addCloseHandler = () => {\n    document.querySelector('.js-close-modal').addEventListener('click', (e) => {\n        e.preventDefault();\n        modal.close();\n    });\n};\n\n[...queryAll('.js-video-modal')].forEach(videoModal => {\n    videoModal.addEventListener('click', (e) => {\n\n        e.preventDefault();\n\n        modal = new tingle.modal({\n            onClose() { modal.destroy() },\n            onOpen() { addCloseHandler() }\n        });\n\n        modal.setContent(videoModalTemplate(videoModal.dataset.videoId));\n\n        modal.open();\n\n    });\n});\n\n\n","!function(t,o){\"function\"==typeof define&&define.amd?define(o):\"object\"==typeof exports?module.exports=o():t.tingle=o()}(this,function(){var o=!1;function t(t){this.opts=function(){for(var t=1;t<arguments.length;t++)for(var o in arguments[t])arguments[t].hasOwnProperty(o)&&(arguments[0][o]=arguments[t][o]);return arguments[0]}({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:\"Close\",closeMethods:[\"overlay\",\"button\",\"escape\"]},t),this.init()}function e(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+\"px\",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+\"px\")}return t.prototype.init=function(){if(!this.modal)return function(){this.modal=document.createElement(\"div\"),this.modal.classList.add(\"tingle-modal\"),0!==this.opts.closeMethods.length&&-1!==this.opts.closeMethods.indexOf(\"overlay\")||this.modal.classList.add(\"tingle-modal--noOverlayClose\");this.modal.style.display=\"none\",this.opts.cssClass.forEach(function(t){\"string\"==typeof t&&this.modal.classList.add(t)},this),-1!==this.opts.closeMethods.indexOf(\"button\")&&(this.modalCloseBtn=document.createElement(\"button\"),this.modalCloseBtn.type=\"button\",this.modalCloseBtn.classList.add(\"tingle-modal__close\"),this.modalCloseBtnIcon=document.createElement(\"span\"),this.modalCloseBtnIcon.classList.add(\"tingle-modal__closeIcon\"),this.modalCloseBtnIcon.innerHTML='<svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z\" fill=\"#000\" fill-rule=\"nonzero\"/></svg>',this.modalCloseBtnLabel=document.createElement(\"span\"),this.modalCloseBtnLabel.classList.add(\"tingle-modal__closeLabel\"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel));this.modalBox=document.createElement(\"div\"),this.modalBox.classList.add(\"tingle-modal-box\"),this.modalBoxContent=document.createElement(\"div\"),this.modalBoxContent.classList.add(\"tingle-modal-box__content\"),this.modalBox.appendChild(this.modalBoxContent),-1!==this.opts.closeMethods.indexOf(\"button\")&&this.modal.appendChild(this.modalCloseBtn);this.modal.appendChild(this.modalBox)}.call(this),function(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:function(t){var o=this.modal.offsetWidth-this.modal.clientWidth,e=t.clientX>=this.modal.offsetWidth-15,s=this.modal.scrollHeight!==this.modal.offsetHeight;if(\"MacIntel\"===navigator.platform&&0==o&&e&&s)return;-1!==this.opts.closeMethods.indexOf(\"overlay\")&&!function(t,o){for(;(t=t.parentElement)&&!t.classList.contains(o););return t}(t.target,\"tingle-modal\")&&t.clientX<this.modal.clientWidth&&this.close()}.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:function(t){-1!==this.opts.closeMethods.indexOf(\"escape\")&&27===t.which&&this.isOpen()&&this.close()}.bind(this)},-1!==this.opts.closeMethods.indexOf(\"button\")&&this.modalCloseBtn.addEventListener(\"click\",this._events.clickCloseBtn);this.modal.addEventListener(\"mousedown\",this._events.clickOverlay),window.addEventListener(\"resize\",this._events.resize),document.addEventListener(\"keydown\",this._events.keyboardNav)}.call(this),document.body.appendChild(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter(),this},t.prototype._busy=function(t){o=t},t.prototype._isBusy=function(){return o},t.prototype.destroy=function(){null!==this.modal&&(this.isOpen()&&this.close(!0),function(){-1!==this.opts.closeMethods.indexOf(\"button\")&&this.modalCloseBtn.removeEventListener(\"click\",this._events.clickCloseBtn);this.modal.removeEventListener(\"mousedown\",this._events.clickOverlay),window.removeEventListener(\"resize\",this._events.resize),document.removeEventListener(\"keydown\",this._events.keyboardNav)}.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},t.prototype.isOpen=function(){return!!this.modal.classList.contains(\"tingle-modal--visible\")},t.prototype.open=function(){if(!this._isBusy()){this._busy(!0);var t=this;return\"function\"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty(\"display\"):this.modal.style.removeAttribute(\"display\"),document.getSelection().removeAllRanges(),this._scrollPosition=window.pageYOffset,document.body.classList.add(\"tingle-enabled\"),document.body.style.top=-this._scrollPosition+\"px\",this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add(\"tingle-modal--visible\"),\"function\"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),t._busy(!1),this.checkOverflow(),this}},t.prototype.close=function(t){if(!this._isBusy()){if(this._busy(!0),!1,\"function\"==typeof this.opts.beforeClose)if(!this.opts.beforeClose.call(this))return void this._busy(!1);document.body.classList.remove(\"tingle-enabled\"),document.body.style.top=null,window.scrollTo({top:this._scrollPosition,behavior:\"instant\"}),this.modal.classList.remove(\"tingle-modal--visible\");var o=this;o.modal.style.display=\"none\",\"function\"==typeof o.opts.onClose&&o.opts.onClose.call(this),o._busy(!1)}},t.prototype.setContent=function(t){return\"string\"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML=\"\",this.modalBoxContent.appendChild(t)),this.isOpen()&&this.checkOverflow(),this},t.prototype.getContent=function(){return this.modalBoxContent},t.prototype.addFooter=function(){return function(){this.modalBoxFooter=document.createElement(\"div\"),this.modalBoxFooter.classList.add(\"tingle-modal-box__footer\"),this.modalBox.appendChild(this.modalBoxFooter)}.call(this),this},t.prototype.setFooterContent=function(t){return this.modalBoxFooter.innerHTML=t,this},t.prototype.getFooterContent=function(){return this.modalBoxFooter},t.prototype.setStickyFooter=function(t){return this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add(\"tingle-modal-box__footer--sticky\"),e.call(this),this.modalBoxContent.style[\"padding-bottom\"]=this.modalBoxFooter.clientHeight+20+\"px\"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width=\"auto\",this.modalBoxFooter.style.left=\"\",this.modalBoxContent.style[\"padding-bottom\"]=\"\",this.modalBoxFooter.classList.remove(\"tingle-modal-box__footer--sticky\"))),this},t.prototype.addFooterBtn=function(t,o,e){var s=document.createElement(\"button\");return s.innerHTML=t,s.addEventListener(\"click\",e),\"string\"==typeof o&&o.length&&o.split(\" \").forEach(function(t){s.classList.add(t)}),this.modalBoxFooter.appendChild(s),s},t.prototype.resize=function(){console.warn(\"Resize is deprecated and will be removed in version 1.0\")},t.prototype.isOverflow=function(){return window.innerHeight<=this.modalBox.clientHeight},t.prototype.checkOverflow=function(){this.modal.classList.contains(\"tingle-modal--visible\")&&(this.isOverflow()?this.modal.classList.add(\"tingle-modal--overflow\"):this.modal.classList.remove(\"tingle-modal--overflow\"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(e.call(this),this.setStickyFooter(!0)))},{modal:t}});"],"names":["query","document","querySelector","bind","queryAll","querySelectorAll","tingle","vimeo","id","youtube","closeIcon","videoModalTemplate","type","modal","addCloseHandler","addEventListener","e","preventDefault","close","forEach","videoModal","onClose","destroy","onOpen","setContent","dataset","videoId","open"],"sourceRoot":""}